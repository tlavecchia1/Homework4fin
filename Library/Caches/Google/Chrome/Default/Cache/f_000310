/*Copyright (c) 2011-2016 Moat Inc. All Rights Reserved.*/
function initMoatTracking(b,c,g,p){var l=document.createElement("script"),f={events:[],addEvent:function(a){d.sendEvent?(f.events&&(d.sendEvent(f.events),f.events=!1),d.sendEvent(a)):f.events.push(a)}},a=function(a){return function(){var d=-1,h;b&&b.getAdVolume&&(h=b.getAdVolume());"number"==typeof h&&!isNaN(h)&&0<=h&&(d=h);f.addEvent({type:a,adVolume:d});if(-1!==q.indexOf(a)&&b&&b.unsubscribe&&!n){n=!0;for(var c in e)if(e.hasOwnProperty&&e.hasOwnProperty(c))try{b.unsubscribe(e[c],c)}catch(g){}}}},
d={adData:{ids:g,vpaid:b,build:"cc07a80-clean"},dispatchEvent:f.addEvent};g="_moatApi"+Math.floor(1E8*Math.random());var e={AdStarted:a("AdStarted"),AdStopped:a("AdStopped"),AdSkipped:a("AdSkipped"),AdLoaded:a("AdLoaded"),AdLinearChange:a("AdLinearChange"),AdSizeChange:a("AdSizeChange"),AdExpandedChange:a("AdExpandedChange"),AdSkippableStateChange:a("AdSkippableStateChange"),AdDurationChange:a("AdDurationChange"),AdRemainingTimeChange:a("AdRemainingTimeChange"),AdVolumeChange:a("AdVolumeChange"),
AdImpression:a("AdImpression"),AdClickThru:a("AdClickThru"),AdInteraction:a("AdInteraction"),AdVideoStart:a("AdVideoStart"),AdVideoFirstQuartile:a("AdVideoFirstQuartile"),AdVideoMidpoint:a("AdVideoMidpoint"),AdVideoThirdQuartile:a("AdVideoThirdQuartile"),AdVideoComplete:a("AdVideoComplete"),AdUserAcceptInvitation:a("AdUserAcceptInvitation"),AdUserMinimize:a("AdUserMinimize"),AdUserClose:a("AdUserClose"),AdPaused:a("AdPaused"),AdPlaying:a("AdPlaying"),AdError:a("AdError")},n=!1,q=["AdStopped","AdSkipped",
"AdVideoComplete"];(function(){if(b&&b.subscribe)for(var a in e)e.hasOwnProperty&&e.hasOwnProperty(a)&&b.subscribe(e[a],a)})();var k,m;try{k=c.ownerDocument,m=k.defaultView||k.parentWindow}catch(r){k=document,m=window}m[g]=d;l.type="text/javascript";c&&c.insertBefore(l,c.childNodes[0]||null);l.src="https://z.moatads.com/"+p+"/moatvideo.js#"+g;return d};
/*! jammaster | release-8.2.9 */
(function() {
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(){function a(){}function b(a,b){return function(){a.apply(b,arguments)}}function c(a){if("object"!==_typeof(this))throw new TypeError("Promises must be constructed via new");if("function"!=typeof a)throw new TypeError("not a function");this._state=0,this._value=void 0,this._deferreds=[],i(a,this)}function d(a,b){for(;3===a._state;)a=a._value;return 0===a._state?void a._deferreds.push(b):void k(function(){var c=1===a._state?b.onFulfilled:b.onRejected;if(null===c)return void(1===a._state?e:f)(b.promise,a._value);var d;try{d=c(a._value)}catch(g){return void f(b.promise,g)}e(b.promise,d)})}function e(a,d){try{if(d===a)throw new TypeError("A promise cannot be resolved with itself.");if(d&&("object"===("undefined"==typeof d?"undefined":_typeof(d))||"function"==typeof d)){var e=d.then;if(d instanceof c)return a._state=3,a._value=d,void g(a);if("function"==typeof e)return void i(b(e,d),a)}a._state=1,a._value=d,g(a)}catch(h){f(a,h)}}function f(a,b){a._state=2,a._value=b,g(a)}function g(a){for(var b=0,c=a._deferreds.length;b<c;b++)d(a,a._deferreds[b]);a._deferreds=null}function h(a,b,c){this.onFulfilled="function"==typeof a?a:null,this.onRejected="function"==typeof b?b:null,this.promise=c}function i(a,b){var c=!1;try{a(function(a){c||(c=!0,e(b,a))},function(a){c||(c=!0,f(b,a))})}catch(d){if(c)return;c=!0,f(b,d)}}var j=setTimeout,k="function"==typeof setImmediate&&setImmediate||function(a){j(a,1)},l=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};c.prototype["catch"]=function(a){return this.then(null,a)},c.prototype.then=function(b,e){var f=new c(a);return d(this,new h(b,e,f)),f},c.all=function(){var a=Array.prototype.slice.call(1===arguments.length&&l(arguments[0])?arguments[0]:arguments);return new c(function(b,c){function d(f,g){try{if(g&&("object"===("undefined"==typeof g?"undefined":_typeof(g))||"function"==typeof g)){var h=g.then;if("function"==typeof h)return void h.call(g,function(a){d(f,a)},c)}a[f]=g,0===--e&&b(a)}catch(i){c(i)}}if(0===a.length)return b([]);for(var e=a.length,f=0;f<a.length;f++)d(f,a[f])})},c.resolve=function(a){return a&&"object"===("undefined"==typeof a?"undefined":_typeof(a))&&a.constructor===c?a:new c(function(b){b(a)})},c.reject=function(a){return new c(function(b,c){c(a)})},c.race=function(a){return new c(function(b,c){for(var d=0,e=a.length;d<e;d++)a[d].then(b,c)})},c._setImmediateFn=function(a){k=a},"undefined"!=typeof module&&module.exports?module.exports=c:window.Promise||(window.Promise=c)}(),COULL={oProduct:{sName:"jammaster",sVersion:"8.2.9"},oBrowserInfo:{},oPageInfo:{},oProdParams:{},sProdUrl:null,sProdBaseUrl:null,sJavascriptId:null,sClickThru:"",oTrackingUrls:{Impression:[],Error:[],start:[],ClickTracking:[],firstQuartile:[],midpoint:[],thirdQuartile:[],complete:[]},oDemandSources:{},oChosenDemandSource:{},aDemandOrder:[],sDemandExpiry:null,nDemandTimer:null,nTimeToImpression:null,bBidResponseSent:!1,oFlashInfo:null,oHTMLInfo:{},bViewabilityEnabled:!1,bAdRequestSuccess:!1,bAdError:!1,bAdImpression:!1,nAdTagURICount:0,nAdDuration:null},COULL.html5={updatePlayerName:function(){if(COULL.videoSlot){COULL.oHTMLInfo.sSlotName=COULL.videoSlot.name||COULL.videoSlot.id||COULL.videoSlot.className;var a=/jw|ad_zeus|lkqdad|vjs/,b=void 0;"string"==typeof COULL.oHTMLInfo.sSlotName&&(b=a.exec(COULL.oHTMLInfo.sSlotName.toLowerCase())),COULL.oHTMLInfo.sPlayerName=b?b[0]:"other"}},trackPlayerInfo:function(){if(COULL.videoSlot?(COULL.tracking.addTrackJsMetaData("videoSlotName",COULL.oHTMLInfo.sSlotName),COULL.tracking.addTrackJsMetaData("playerInfo",COULL.oHTMLInfo.sPlayerName),COULL.tracking.addTrackJsMetaData("autoPlay",COULL.videoSlot.autoplay),COULL.tracking.addTrackJsMetaData("muted",COULL.videoSlot.muted),console.log("videoslot: ",COULL.videoSlot),COULL.videoSlot.canPlayType&&console.log("Can play mp4 test: ",COULL.videoSlot.canPlayType("video/mp4")),console.log("videoSlot HTML: "+COULL.videoSlot.outerHTML)):COULL.tracking.addTrackJsMetaData("videoSlotName","No Slot!"),COULL.slot&&(console.log("slot: ",COULL.slot),console.log("slot HTML: "+COULL.slot.outerHTML),COULL.overlay&&COULL.slot.id&&COULL.tracking.addTrackJsMetaData("videoSlotName",COULL.slot.id)),console.log("divHtml",document.documentElement.innerHTML),Math.random()<=.03&&parent.document){console.log("parentDivHtml",parent.document.documentElement.innerHTML);for(var a=parent.document.getElementsByTagName("script"),b=void 0,c=0;c<a.length;c++){var d=a[c].getAttribute("src");if(d){b=COULL.utils.getDomainFromUrl(d);break}}COULL.tracking.addTrackJsMetaData("loadScript",b)}},getJavascriptSrcUrl:function(){for(var a=new RegExp("player(.stage)?.coullmedia.com/vidlinkr/([0-9.]+/)?[^.]+(.min)?.js"),b=document.getElementsByTagName("script"),c=0;c<b.length;c++){var d=b[c].getAttribute("src");if(null!==d&&d.search(a)!==-1)return d}return null},adRequestTimeout:function(a,b){setTimeout(function(){COULL.bAdRequestSuccess||COULL.bAdError||b(730)},a)},initMoat:function(){var a="coulljsvidint360687981119",b={level1:COULL.oProdParams.pid,level2:COULL.oSaulParams.subid,level3:COULL.oChosenDemandSource.oDemand.name,level4:COULL.oProduct.sName};initMoatTracking(COULL.oVpaidProxy,COULL.videoSlot,b,a)}},COULL.utils={buildURL:function(a,b,c){if("undefined"!=typeof c)for(var d in b)for(var e=0;e<c.length;e++)b[d]===c[e]&&delete b[d];var f=a+"?"+Object.keys(b).map(function(a){return[a,b[a]].map(encodeURIComponent).join("=")}).join("&");return f},getBitwiseFlag:function(a){var b={PLAYER_FLAG_SEND_PAGE_URL:1,PLAYER_FLAG_VIEWABILITY:2,PLAYER_FLAG_FORENSIQ:4,PLAYER_FLAG_X_DOM_VIEWABILITY:8,PLAYER_FLAG_MOAT:16},c=COULL.oProdParams.f||null;return!!(c&b[a])},updateCookies:function(){var a=document.createElement("iframe");a.src="//"+COULL.oProdParams.quasar_host+"/disco/dj.html",a.style.display="none",document.body.appendChild(a)},loadImg:function(a,b){var c=new Image;c.onload=function(){COULL.utils.runCallback(b)},c.onerror=function(){c=null,COULL.utils.runCallback(b)},c.src=a},doCORSReq:function(a,b,c,d,e,f){var g=new XMLHttpRequest;return"withCredentials"in g?(f="undefined"==typeof f||f,"MSIE"===COULL.oBrowserInfo.sName&&parseInt(COULL.oBrowserInfo.sVersion)<12||(g.withCredentials=f),e?(g.open("post",a,!0),g.setRequestHeader("Content-Type","text/plain")):g.open("get",a,!0)):g=null,g||"function"!=typeof d?(g.onload=function(){if(g.status>=200&&g.status<303){var a=null;"vast"===b&&g.responseXML?a=g.responseXML:g.responseText&&"application/json"===g.getResponseHeader("content-type")&&(a=JSON.parse(g.responseText)),"function"==typeof c&&c(a,b)}else if("function"==typeof d)return console.log("XHR onload error: "+g.status+"- "+g.statusText),void d(403===g.status?540:550)},g.onerror=function(g){4===this.readyState&&0===this.status&&f?COULL.utils.doCORSReq(a,b,c,d,e,!1):"function"==typeof d&&d(310)},void g.send(e||"")):void d(120)},queryStringToObject:function(a){for(var b={},c=a.split("&"),d=0;d<c.length;d++){var e=c[d].split("=");e.length<2&&e.push(""),b[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return b},getJsonFromStr:function(a){var b=!1;try{b=JSON.parse(a)}catch(c){return!1}return b},getObjProp:function(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];for(var e=0;e<c.length;e++){if(!a||!a.hasOwnProperty(c[e]))return;a=a[c[e]]}return a},runCallback:function(a){if("function"==typeof a)a();else if("object"===("undefined"==typeof a?"undefined":_typeof(a))){var b=a.func,c=a.arg;try{b(c)}catch(d){COULL.tracking.trackJs("send","invalid callback!"+d)}}},getDomainFromUrl:function(a){if(!a||!a.length)return"";var b=a.replace(/^https?:\/\//,"").replace(/^(m|www)\./,"").toLowerCase();return b?b.match(/([^\/?#]+)/gi)[0]:""},createCustomEvents:function(a){for(var b=0;b<a.length;b++){var c=a[b];window[c]=new CustomEvent(c,{bubbles:!0,cancelable:!1})}}},COULL.environment={getBrowserInfo:function(){var a=navigator.userAgent,b=void 0,c={},d=a.match(/(vivaldi|opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*([0-9|\.]+)/i)||[];return/trident/i.test(d[1])?(b=/\brv[ :]+(\d+)/g.exec(a)||[],c.sName="MSIE",c.sVersion=b[1],c):"Chrome"===d[1]&&(b=a.match(/\b(OPR|Edge)\/(\d+)/),null!==b)?(c.sVersion=b.slice(1),b.indexOf("Edge")?(c.sName="MSIE",c.sVersion=12):c.sName="Opera",c):(d=d[2]?[d[1],d[2]]:[navigator.appName,navigator.appVersion,"-?"],b=a.match(/version\/(\d+)/i),null!==b&&d.splice(1,1,b[1]),c.sName=d[0],c.sVersion=d[1],c)},getClosestTop:function(){var a=window,b=!1;try{for(;a.parent.document!==a.document;){if(!a.parent.document){b=!0;break}a=a.parent}}catch(c){b=!0}return{topFrame:a,err:b}},getPageUrlInfo:function(a){var b=COULL.environment.getClosestTop(),c={sTruePageUrl:"",sReferrer:"",sDomain:"",bCrossDomain:!0};if(b.err){try{c.sTruePageUrl=window.top.location.href}catch(d){c.sTruePageUrl=""}c.sReferrer=b.topFrame.document.referrer}else c.bCrossDomain=!1,c.sTruePageUrl=b.topFrame.location.href;try{var e=window.location.ancestorOrigins,f=e[e.length-1];f&&(c.sDomain=f.replace(/.*?:\/\//g,""))}catch(d){}return a&&(c=JSON.stringify(c)),c},getProductParams:function(a){if(a&&a.match(/\?/)){var b=a.match(/\?(.*)/)[1];return COULL.utils.queryStringToObject(b)}},browserPolyfill:function(){if(String.prototype.includes||(String.prototype.includes=function(a,b){return"number"!=typeof b&&(b=0),!(b+a.length>this.length)&&this.indexOf(a,b)!==-1}),"function"!=typeof window.CustomEvent){var a=function(a,b){b=b||{bubbles:!1,cancelable:!1,detail:void 0};var c=document.createEvent("CustomEvent");return c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail),c};a.prototype=window.Event.prototype,window.CustomEvent=a}},getEnvironment:function(a,b){a?(COULL.sProdUrl=a,COULL.oFlashInfo=COULL.flash.getFlashInfo(b)):COULL.sProdUrl=COULL.html5.getJavascriptSrcUrl(),COULL.oBrowserInfo=COULL.environment.getBrowserInfo(),COULL.environment.browserPolyfill(),COULL.oProdParams=COULL.environment.getProductParams(COULL.sProdUrl),COULL.sProdBaseUrl=COULL.sProdUrl.slice(0,COULL.sProdUrl.indexOf(COULL.oProduct.sVersion+"/")),COULL.oPageInfo=COULL.environment.getPageUrlInfo(),COULL.bViewabilityEnabled=!(!COULL.utils.getBitwiseFlag("PLAYER_FLAG_VIEWABILITY")||!COULL.viewability),COULL.sJavascriptId=COULL.oProdParams.r?COULL.oProdParams.r:null},domainsMatch:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",c=COULL.utils.getDomainFromUrl(a);return c.includes(b)},coullCleanUp:function(){if(COULL.fqscript)try{COULL.fqscript.parentElement.removeChild(COULL.fqscript)}catch(a){console.log("error removing FQ tag!")}},addPageUrlParams:function(a){a.uv=0;var b=a.page_url?a.page_url.toLowerCase():"",c=COULL.oPageInfo.sDomain,d=COULL.oPageInfo.sTruePageUrl;if(d){var e=COULL.utils.getDomainFromUrl(d);b&&d===b?a.uv=1:(a.publisher_page_url=a.page_url,a.page_url=COULL.oPageInfo.sTruePageUrl,b&&COULL.environment.domainsMatch(b,e)?a.uv=2:a.uv=3)}else if(c)if(c=COULL.utils.getDomainFromUrl(c),b&&COULL.environment.domainsMatch(b,c))a.uv=2;else{var f=COULL.oPageInfo.sReferrer,g=COULL.utils.getDomainFromUrl(f);c==g?(a.publisher_page_url=a.page_url,a.page_url=f,a.uv=4):(a.domain=COULL.oPageInfo.sDomain,a.uv=3)}else a.uv=5;return a}},COULL.xml={_decodeXmlEntities:function(a){return a?a.replace(/&apos;/g,"'").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&"):null},getNodeValues:function(a){var b=Array.apply(null,a);return b.filter(function(a){return 3!==a.nodeType}).map(function(a){return a.textContent})},getNodesWithAttrValue:function(a,b,c){var d=Array.apply(null,a);return d.filter(function(a){return 3!==a.nodeType}).filter(function(a){return a.getAttribute(b)===c})},getContentOfNodesWithAttrValue:function(a,b,c){var d=COULL.xml.getNodesWithAttrValue(a,b,c);return d.map(function(a){return a.textContent})},followVASTAdTagURI:function(a,b,c){COULL.xml.processVASTEvents(a);var d=a.getElementsByTagName("VASTAdTagURI")[0];if(d&&COULL.nAdTagURICount<20){var e=d.textContent;COULL.tracking.addTrackJsMetaData("vastAdTag"+COULL.nAdTagURICount,COULL.utils.getDomainFromUrl(e)),COULL.nAdTagURICount++,COULL.utils.doCORSReq(e,"vast",b,null)}else c(620)},getNestedNode:function(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];if(!a)return null;for(var e=0;e<c.length;e++)if(a=a.getElementsByTagName(c[e])[0],!a)return null;return a},getCreative:function(a,b,c){var d=COULL.xml.getNestedNode(a,"VAST","Ad","Wrapper");if(d){var e=function(a){COULL.xml.getCreative(a,b,c)};return void COULL.xml.followVASTAdTagURI(d,e,c)}COULL.xml.processVASTEvents(a);var f=a.getElementsByTagName("Creative"),g=Array.apply(null,f),h=g.filter(function(a){return a.getElementsByTagName("Linear").length}),i=h[0],j=i.getElementsByTagName("Linear")[0];if(!j){var k=new XMLSerializer,l=k.serializeToString(a);return console.log("no linear node, xml response: ",l),void c(630)}b(j)},processVASTEvents:function(a){var b=a.getElementsByTagName("Error"),c=a.getElementsByTagName("Impression"),d=Array.apply(null,b),e=Array.apply(null,c),f=COULL.xml.getNodeValues(d),g=COULL.xml.getNodeValues(e);COULL.tracking.storeVASTUrls(g,"Impression"),COULL.tracking.storeVASTUrls(f,"Error")}},COULL.tracking=function(){var a=function(a){for(var b in a){if(b.match(/impression_/i)){var c=a[b];COULL.oTrackingUrls.Impression.indexOf(c)===-1&&COULL.oTrackingUrls.Impression.push(c)}if(b.match(/error_/i)){var d=a[b];COULL.oPageInfo.sTruePageUrl?d=d.concat("&page_url="+encodeURIComponent(COULL.oPageInfo.sTruePageUrl)):COULL.oPageInfo.sDomain&&(d=d.concat("&domain="+encodeURIComponent(COULL.oPageInfo.sDomain))),COULL.oTrackingUrls.Error.indexOf(d)===-1&&COULL.oTrackingUrls.Error.push(d)}}},b=function(a){switch(a){case 100:return"Browser Incompatible";case 110:return"No Quasar Host";case 120:return"XHR not supported";case 130:return"Multiple Instance Error";case 200:return"Flash Error: function not found on element";case 210:return"Flash Error: InitAd Error";case 220:return"Flash Error: Flash element not found";case 300:return"Javascript Error";case 310:return"XHR Error";case 320:return"Cannot create VPAID object";case 400:return"Demand Error";case 410:return"No Demand";case 411:return"No demand above floorprice";case 412:return"No stargate demand";case 420:return"No VPAID MediaFile of compatible type";case 421:return"No VAST MediaFile of compatible type";case 422:return"No Ad Manager URL on Mediafile";case 500:return"SAUL Timeout";case 510:return"SAUL Response Error";case 520:return"SAUL No Page URL";case 530:return"Quasar Error: No Page URL";case 540:return"XHR Error: 403 Blocked";case 550:return"XHR Error: 400 Bad Request";case 600:return"XML Error";case 610:return"XML Error: No Creatives Found";case 620:return"XML Error: Over 20 VASTAdTagURIs";case 630:return"XML Error: NonLinear Node Not Found";case 631:return"XML Error: Linear Node Not Found";case 700:return"Third Party Error";case 710:return"Empty Ad Slot (DFP)";case 720:return"Ad Manager AdError";case 730:return"Ad Manager Timeout";case 800:return"DOM Error: Error Inserting iframe";default:return 0}},c=function(a,b){for(var c=COULL.oTrackingUrls[a],d=c.length,e=0;e<d;e++){var f=c[e];f.length&&(f=f.trim(),COULL.nTimeToImpression&&f.match(/^https?:\/\/(atled|delta)(\.stage)?\.coull\.com\/ssp\-impression\?/i)&&(f=f+"&tti="+COULL.nTimeToImpression),COULL.nErrorCode&&f.match(/^https?:\/\/(atled|delta)(\.stage)?\.coull\.com\/ssp\-event\?/i)&&(f=f+"&error_code="+COULL.nErrorCode),e===d-1?COULL.utils.loadImg(f,b):COULL.utils.loadImg(f))}COULL.oTrackingUrls[a]=[]},d=function(a,b){for(var c=0;c<a.length;c++)COULL.oTrackingUrls[b].push(a[c])},e=function(){i("product",COULL.oProduct.sName),i("version",COULL.oProduct.sVersion),i("pid",COULL.oProdParams.pid),i("UrlVerificationId",COULL.oProdParams.uv),i("player_width",COULL.oProdParams.player_width),i("player_height",COULL.oProdParams.player_height),i("viewabilityEnabled",COULL.bViewabilityEnabled),i("crossDomain",COULL.oPageInfo.bCrossDomain),i("coull_page_url",COULL.oPageInfo.sTruePageUrl),i("domain",COULL.oPageInfo.sDomain),i("referrer",COULL.oPageInfo.sReferrer),i("ad_duration",COULL.nAdDuration);var a=COULL.bAdImpression?"Impression":COULL.bAdError?"Error":"none";i("eventFired",a),i("demandSet",COULL.nDemandSetCount);var b=COULL.oChosenDemandSource?COULL.oChosenDemandSource.oDemand:null;if(b&&(i("demandTried",b.name),console.log("fullDemandUrl: ",b.url)),COULL.nDemandTimer){var c=(new Date).getTime(),d=c-COULL.nDemandTimer,e=3e3*Math.ceil(d/3e3);i("timeSinceDemandRequest",e)}COULL.oFlashInfo?COULL.flash.trackPlayerInfo():COULL.html5.trackPlayerInfo()},f=function(a){var b=0;return a.forEach(function(a){6===a.status&&b++}),!(!a.length||b>0)},g=function(){if(!COULL.bBidResponseSent&&COULL.sBidResponseBaseUrl){var a=[],b=COULL.oDemandSources;for(var c in b){var d=b[c];if(d.bRequested){var e="number"==typeof d.duration,g={bidder:d.bidder,bidder_name:d.bidder_name,price:d.cp,status:e?d.status:1,duration:e?d.duration:null};d.order_id&&(g.inventory_order_id=d.order_id),a.push(g)}}var i=JSON.stringify(a);if(f(a)){COULL.utils.doCORSReq(COULL.sBidResponseBaseUrl+"&bidcount="+a.length,"delta",null,null,i)}else console.log("Bid Responses object: "+i),h("invalid bid response data");COULL.bBidResponseSent=!0}},h=function(a){window.trackJs&&("number"==typeof a&&(a=b(a)),e(),trackJs.track(a))},i=function(a,b){window.trackJs&&trackJs.addMetadata(a,b)},j=function(a){if(COULL.utils.getBitwiseFlag("PLAYER_FLAG_FORENSIQ")&&!COULL.eForensiqIframe){var b=COULL.utils.getObjProp(COULL,"oSaulParams","subid")?COULL.oSaulParams.subid:1,c={org:"KDSCSMl0TD7djC84TMcX",sl:1,rt:"display",p:COULL.oProdParams.pid+"-"+b,rd:COULL.oProdParams.publisher_page_url||null,cmp:a},d="https://c.fqtag.com/tag/implement-r.js",e=COULL.oFlashInfo&&COULL.oFlashInfo.htmlElement?COULL.oFlashInfo.htmlElement.getAttribute("id"):null;if(e&&(c.ad=e),"overstream"===a)c.fmt="banner";else{var f=COULL.oChosenDemandSource.oDemand.order_id||1;c.a="order-"+f,c.fmt="video"}if(COULL.fqscript=document.createElement("script"),COULL.fqscript.id="coull-forensiq",COULL.fqscript.src=COULL.utils.buildURL(d,c,["",null]),"overstream"===a&&COULL.overlay.adElement)try{COULL.overlay.adElement.parentElement.appendChild(COULL.fqscript)}catch(g){COULL.overlay.adElement.appendChild(COULL.fqscript)}else try{parent.document.body.appendChild(COULL.fqscript)}catch(g){document.body.appendChild(COULL.fqscript)}}},k=function(){if(COULL.oChosenDemandSource.oDemand.rmvw){var a=document.createElement("script");a.id="rmvw",a.src=COULL.oChosenDemandSource.oDemand.rmvw,a.onerror=function(a){h("rmvw fail! - "+a)};try{parent.document.body.appendChild(a)}catch(b){document.body.appendChild(a)}COULL.oChosenDemandSource.oDemand.rmvw=null}},l=function(){COULL.utils.getBitwiseFlag("PLAYER_FLAG_MOAT")&&(COULL.oFlashInfo?COULL.flash.callFlashFunc("initMoat",COULL.oSaulParams.subid,COULL.oChosenDemandSource.oDemand.name):COULL.html5.initMoat())},m=function(){COULL.oChosenDemandSource.oDemand;("13467"===COULL.oProdParams.pid||"13155"===COULL.oProdParams.pid||Math.random()<=.2)&&h("Log Random Impression")};return{impressionTracking:m,createWhiteOpsTag:k,storeDeltaUrls:a,storeVASTUrls:d,sendUrlsByType:c,loadForensiq:j,loadMoat:l,trackDemandInfo:g,sendTrackJsError:h,addTrackJsMetaData:i}}(),COULL.preroll=function(){var a=function(a,c){if(COULL.oFlashInfo&&COULL.oInitAdParams){var d=s(130);return void COULL.flash.fireDeltaError(a,d)}COULL.oInitAdParams=c,COULL.oInitAdParams.adType=COULL.oProduct.sType;var e=c?c.objectID:null;COULL.environment.getEnvironment(a,e),COULL.tracking.storeDeltaUrls(COULL.oProdParams);var f="MSIE"===COULL.oBrowserInfo.sName?COULL.oBrowserInfo.sVersion:null;return f&&parseInt(f,10)<10?void s(100):COULL.oFlashInfo&&!COULL.oFlashInfo.htmlElement?void COULL.preroll.onAdError(220):(COULL.bViewabilityEnabled&&COULL.viewability.fnNotify("initAd",c),COULL.oFlashInfo||(COULL.oVpaidProxy=COULL.vastLoader.oVpaidProxy,COULL.vastLoader.init()),COULL.oProdParams&&COULL.oProdParams.disco&&"1"===COULL.oProdParams.disco&&COULL.utils.updateCookies(),void b())},b=function(){var a=c(),b=[],e=0,f=void 0;if(a){var g=new Promise(function(b,c){var d=function(a){f=a,b()};COULL.utils.doCORSReq(a,"saul",d,s)});if(COULL.bViewabilityEnabled){var h=new Promise(function(a,b){COULL.viewability.getResultsNow("Prebid",a,COULL.sProdBaseUrl)});b.push(h),e=Math.max(e,1500)}b.push(g),e=1350;new Promise(function(a,c){setTimeout(function(){a("timed out "+e)},e),Promise.all(b).then(function(){a("all promises resolved "+e)},function(a){})}).then(function(a){f?d(f):s(500)},function(a){})}},c=function(){var a=COULL.oProdParams.quasar_host+"/saul",b=COULL.utils.queryStringToObject(COULL.oProdParams.saul_params);return COULL.oSaulParams=b,COULL.oInitAdParams&&(b.player_width=COULL.oInitAdParams.width,b.player_height=COULL.oInitAdParams.height),COULL.flash?(COULL.flash.updatePlayerName(),b.player_name=COULL.oFlashInfo.sPlayerName):(COULL.html5.updatePlayerName(),b.player_name=COULL.oHTMLInfo.sPlayerName),b=COULL.environment.addPageUrlParams(b),b.page_url?"//"+COULL.utils.buildURL(a,b):void s(520)},d=function(a){return a&&a.v1&&a.v1.demand&&a.v1.order?(a=a.v1,COULL.oDemandSources=a.demand,COULL.aDemandOrder=a.order,COULL.sBidResponseBaseUrl=a.bid_responses_base_url,COULL.sDemandExpiry=a.timestamp,COULL.nDemandSetCount=0,void f()):(console.log("SAUL Response",JSON.stringify(a)),void s(510))},e=function(a,b){var c=8e3,d=8e3,e=COULL.oFlashInfo?c:d;setTimeout(function(){if(!COULL.bAdError&&!COULL.bAdImpression){console.log("ad manager data: ",b);var c="ad manager timeout: Exceeded "+e/1e3+" seconds: "+COULL.utils.getDomainFromUrl(a);console.log(c),s(730)}},e)},f=function(){if(COULL.nDemandSetCount++,!COULL.aDemandOrder.length)return void s(410);for(var a=COULL.aDemandOrder[0],b=a.demand,c=a.timeout||1e3,d=[],e=0;e<b.length;e++){var f=b[e];if(COULL.oDemandSources.hasOwnProperty(f)){var g=COULL.oDemandSources[f];g.name=f,g.status=6,m(g),d.push(p(g,c))}}COULL.nDemandTimer=(new Date).getTime(),Promise.all(d).then(i)["catch"](function(a){window.trackJs&&(console.log(a.message),trackJs.track("error mid-promise")),setTimeout(function(){document.dispatchEvent(AdError)},1e3)}),COULL.aDemandOrder.shift()},g=function(){COULL.aDemandOrder=[]},h=function(){var a=COULL.oChosenDemandSource;if("exchange"===a.oDemand.name){var b=a.xAdServerResponse,c=b?COULL.xml.getNestedNode(b,"VAST","Ad","Wrapper"):null;if(c=c?c:COULL.xml.getNestedNode(b,"VAST","Ad","InLine","Extensions")){var d=c.getElementsByTagName("Extension"),e=Array.apply(null,d),f=e.filter(function(a){return"COULL"===a.getAttribute("type")}),g=f.length?f[0]:null,h=g?COULL.xml.getNestedNode(g,"NID"):null;h&&COULL.utils.loadImg(h.textContent.trim())}}},i=function(a){COULL.bAllDemandPromisesResolved=!0;for(var b=0;b<a.length;b++){var c=a[b],d=c.oDemand.name;COULL.oDemandSources[d].status=c.status}var e=a.filter(function(a){return 6===a.status});if(e=l(e),0===e.length)f();else{if(g(),e=e.filter(function(a){return 3!==a.oDemand.status}),!e.length)return void s(411);var i=n(e);j(i.oDemand),COULL.oChosenDemandSource=i,h(),COULL.xml.getCreative(i.xAdServerResponse,o,s)}},j=function(a){var b=a.cp/100,c=a.impressions,d=c.length;if(d)for(var e=0;e<d;e++){var f=c[e];b&&f.match(/atled\.coull\.com\/ssp\-impression/i)&&(f=f.replace(/(&iop=)[0-9\.]*(\&|$)/,"$1"+b+"$2")),COULL.oTrackingUrls.Impression.indexOf(f)===-1&&COULL.oTrackingUrls.Impression.push(f)}},k=function(a){return"CPM"===a.getAttribute("model")&&"USD"===a.getAttribute("currency")?100*parseFloat(a.textContent):(COULL.tracking.sendTrackJsError("invalid pricing node"),null)},l=function(a){for(var b=0;b<a.length;b++){var c=a[b],d=c?c.xAdServerResponse:null;if(d){var e=COULL.xml.getNestedNode(d,"VAST","Ad"),f=COULL.xml.getNestedNode(e,"Wrapper","Pricing");f=f?f:COULL.xml.getNestedNode(e,"InLine","Pricing"),f=f?f:COULL.xml.getNestedNode(e,"Extensions","Price");var g=f?k(f):null;if(g&&g>0){var h=c.oDemand.name,i="number"==typeof c.oDemand.bling?c.oDemand.bling:Math.random();g<COULL.oDemandSources[h].fp?a[b].oDemand.status=3:(a[b].oDemand.cp=g,a[b].oDemand.cb=g*i)}}}return a},m=function(a){var b=COULL.sDemandExpiry%1000003,c=a.expires,d=c-COULL.sDemandExpiry,e="number"==typeof a.bling?a.bling:Math.random(),f=d*e,g=a.name;COULL.oDemandSources[g].cp=d,COULL.oDemandSources[g].cb=f,COULL.oDemandSources[g].fp=b},n=function(a){for(var b=a.reduce(function(a,b){return!b.oDemand.cb||b.oDemand.cb<a.oDemand.cb?a:b}),c=b.oDemand.name,d=0;d<a.length;d++){var e=a[d];e.oDemand&&(COULL.oDemandSources[e.oDemand.name].status=4)}return COULL.oDemandSources[c].status=0,b},o=function(a){var b=a.getElementsByTagName("MediaFile"),c=COULL.vastAd.getSupportedMediaFiles(b);if(c.length)return void w(a);var d=a.getElementsByTagName("MediaFile")[0],e=d.getAttribute("apiFramework");if("VPAID"===e)return void y(a);var f=(new XMLSerializer).serializeToString(a);console.log("VAST Creative XML for debugging: ",f),s(421)},p=function(a,b){return new Promise(function(c,d){setTimeout(function(){c({oDemand:a,status:1})},b),r(a,c)})},q=function(a){var b=(new Date).getTime(),c=b-COULL.nDemandTimer;COULL.oDemandSources[a.name].duration=c},r=function(a,b){var c=a.url;if(COULL.bViewabilityEnabled&&1===a.am_id){var d=COULL.utils.getObjProp(COULL,"viewability","Results","Prebid","Metrics","adAreaPcVisName");d&&(c=c.concat("&vw="+d),COULL.tracking.addTrackJsMetaData("viewabilityResult",d))}COULL.oDemandSources[a.name].bRequested=!0;var e=function(c){q(a);var d=COULL.xml.getNestedNode(c,"VAST","Ad","Wrapper");if(!d){var e=COULL.xml.getNestedNode(c,"Creatives","Creative","Linear");if(!e)return void b({oDemand:a,status:5})}b({oDemand:a,status:6,xAdServerResponse:c})},f=function(){q(a),b({oDemand:a,status:2})};COULL.utils.doCORSReq(c,"vast",e,f)},s=function(a){COULL.bAdError||(COULL.bAdError=!0,a&&COULL.tracking.sendTrackJsError(a),COULL.bAllDemandPromisesResolved&&COULL.tracking.trackDemandInfo());var b=function(){COULL.oFlashInfo&&COULL.flash?COULL.flash.callFlashFunc("forceError"):(COULL.vastLoader.removeAdAssets(),"undefined"!=typeof AdError&&document.dispatchEvent(AdError))},c=100*Math.floor(a/100);COULL.nErrorCode=c,COULL.tracking.sendUrlsByType("Error",b)},t=function(){COULL.environment.coullCleanUp()},u=function(){var a=(new Date).getTime(),b=a-COULL.nDemandTimer;COULL.nTimeToImpression=b},v=function(){COULL.bAdImpression||COULL.bAdError||(COULL.bAdImpression=!0,u(),COULL.tracking.sendUrlsByType("Impression"),COULL.tracking.trackDemandInfo(),COULL.tracking.loadForensiq("preroll"),COULL.tracking.loadMoat(),COULL.tracking.createWhiteOpsTag(),setTimeout(COULL.tracking.impressionTracking,7e3))},w=function(a){COULL.tracking.addTrackJsMetaData("CreativeType","VAST"),COULL.vastAd.handleTracking(a),COULL.vastAd.setMedia(a,s),COULL.bAdRequestSuccess=!0},x=function(a){var b=a.getElementsByTagName("MediaFile"),c=COULL.oFlashInfo?/(application\/x-shockwave-flash)/g:/(javascript)/g,d=Array.apply(null,b),e=d.filter(function(a){return a.getAttribute("type").match(c)}),f=e[0];if(!f){var g=(new XMLSerializer).serializeToString(a);return console.log("Creative Dump: ",g),void s(420)}var h=f.textContent.trim();if(h)return h;var i=(new XMLSerializer).serializeToString(a);console.log("Creative Dump: ",i),s(422)},y=function(a){COULL.tracking.addTrackJsMetaData("CreativeType","VPAID");var b=x(a),c=a.getElementsByTagName("AdParameters")[0],d=c?c.textContent.trim():null;b&&(console.log("loading vpaid ad manager, src: ",b),e(b,d),COULL.oFlashInfo?COULL.flash.setFlashUrl("setAdUrl",b,"VPAID",d):(COULL.oVpaidProxy=COULL.vpaidLoader.oVpaidProxy,COULL.vpaidLoader.loadAdManager(b,d,s)),COULL.bAdRequestSuccess=!0)};return{onAdImpression:v,onAdStopped:t,onAdError:s,init:a}}(),COULL.vastAd={handleTracking:function(a){var b=a.getElementsByTagName("TrackingEvents")[0];if(b){var c=b.getElementsByTagName("Tracking"),d=COULL.xml.getContentOfNodesWithAttrValue(c,"event","start"),e=COULL.xml.getContentOfNodesWithAttrValue(c,"event","firstQuartile"),f=COULL.xml.getContentOfNodesWithAttrValue(c,"event","midpoint"),g=COULL.xml.getContentOfNodesWithAttrValue(c,"event","thirdQuartile"),h=COULL.xml.getContentOfNodesWithAttrValue(c,"event","complete");COULL.tracking.storeVASTUrls(d,"start"),COULL.tracking.storeVASTUrls(e,"firstQuartile"),COULL.tracking.storeVASTUrls(f,"midpoint"),COULL.tracking.storeVASTUrls(g,"thirdQuartile"),COULL.tracking.storeVASTUrls(h,"complete")}},setMedia:function(a,b){var c=a.getElementsByTagName("MediaFile"),d=a.getElementsByTagName("VideoClicks")[0],e=COULL.vastAd.getClickThrough(d),f=void 0;if(!c.length)return void b();var g=COULL.vastAd.selectMediaFile(c);if(f=g.textContent,!f)return void b();if(!e){var h=COULL.environment.getProductParams(f);e=h&&h.vid_click_url?h.vid_click_url:null,e||COULL.tracking.sendTrackJsError(440)}if(COULL.sClickThru=e,COULL.oFlashInfo)COULL.flash.setFlashUrl("setAdUrl",f,"VAST");else{var i=a.getElementsByTagName("Duration")[0];if(!i)return void b();var j=i.textContent.trim();COULL.vastLoader.loadMedia(f,j)}},playerIsCompatible:function(a){return COULL.videoSlot.canPlayType(a)},getMimeType:function(){return COULL.oFlashInfo?["video/mp4","video/x-flv"]:["video/mp4","video/webm","video/ogg"].filter(COULL.vastAd.playerIsCompatible)},getSupportedMediaFiles:function(a){var b=Array.apply(null,a),c=COULL.vastAd.getMimeType();return b.filter(function(a){return c.indexOf(a.getAttribute("type"))>-1})},selectMediaFile:function(a){for(var b=COULL.vastAd.getSupportedMediaFiles(a),c=COULL.videoSlot?COULL.videoSlot.clientWidth:COULL.oInitAdParams.width,d=COULL.videoSlot?COULL.videoSlot.clientHeight:COULL.oInitAdParams.height,e=c*d,f=[],g=0;g<b.length;g++){var h=parseInt(b[g].getAttribute("width"),10),i=parseInt(b[g].getAttribute("height"),10),j=f.length,k={width:h,height:i,file:b[g],ratio:Math.abs(h*i/e-1)};if(0===j)f.push(k);else for(var l=0;l<j&&(f[l].width!==h||f[l].height!==i);l++)f.push(k)}var m=f.reduce(function(a,b){return!b.ratio||b.ratio<a.ratio?b:a}),n=m.file;return COULL.tracking.addTrackJsMetaData("mediafile dimensions",m.width+" x "+m.height),n},getClickThrough:function(a){var b=void 0;if(a){var c=a.getElementsByTagName("ClickTracking")[0],d=a.getElementsByTagName("ClickThrough")[0];if(c){var e=c.childNodes,f=COULL.xml.getNodeValues(e);COULL.tracking.storeVASTUrls(f,"ClickTracking")}b=d?d.textContent:null}return b}},COULL.vastLoader=function(){var a=void 0,b=void 0,c=void 0,d=void 0,e=0,f=void 0,g=void 0,h=!1,i=!1,j=!1,k=!1,l=!1,m=function(){for(var c=0;c<COULL.jammaster.aSubscribedEvents.length;c++){var d=COULL.jammaster.aSubscribedEvents[c].fn,e=COULL.jammaster.aSubscribedEvents[c].eventName;B(d,e)}var f=COULL.environment.getClosestTop(),g=f.topFrame;!l&&g&&(l=t(g)||!1),a=COULL.oInitAdParams.environmentVars.slot,b=COULL.videoSlot=COULL.oInitAdParams.environmentVars.videoSlot,Z(),u(g)},n=function(a,c){b.src=a,v(c),i=!1,Y(),q(),document.dispatchEvent(AdLoaded)},o=function(){document.dispatchEvent(AdImpression),COULL.preroll.onAdImpression(),j=!0,document.dispatchEvent(AdLinearChange),k=!0},p=function(){document.dispatchEvent(AdClickThru,{url:COULL.sClickThru,id:"",playerHandles:!1}),window.open(COULL.sClickThru,"_blank")},q=function(){a.style.width="100%",a.style.height="100%",a.style.top="0px",a.style.left="0px",a.style.position="absolute",a.style.cursor="pointer",a.addEventListener("click",p,!1)},r=function(a){switch(x(),h=!1,c.style.opacity=0,a){case"skipAd":document.dispatchEvent(AdSkipped);break;case"stopAd":s(),document.dispatchEvent(AdStopped);break;case"pauseAd":i=!0,document.dispatchEvent(AdPaused)}},s=function(){k&&(c&&c.parentNode&&c.parentNode.removeChild(c),a&&a.removeEventListener("click",p,!1),COULL.environment.coullCleanUp(),k=!1,j=!1,document.dispatchEvent(AdLinearChange))},t=function(a){return a.document.fullscreen||a.document.webkitIsFullScreen||a.document.mozFullScreen||a.document.msFullscreenElement||!1;
},u=function(a){window.name="vpaidIframe",b.addEventListener("msfullscreenchange",function(){t(a),A()}),b.addEventListener("fullscreenchange",function(){t(a),A()}),a.document.addEventListener("mozfullscreenchange",function(){t(a),A()}),b.addEventListener("webkitfullscreenchange",function(){t(a),A()}),b.addEventListener("webkitbeginfullscreen",function(){l=!0,A()}),b.addEventListener("webkitendfullscreen",function(){l=!1,A()})},v=function(a){var b=a.split(":");COULL.nAdDuration=60*+b[0]*60+60*+b[1]+ +b[2],COULL.nAdDuration!==d&&y()},w=function $(){f=COULL.nAdDuration/100*1e3,e>=100?G():(e++,z(e),d-=f/1e3,g=setTimeout($,f))},x=function(){g&&clearTimeout(g)},y=function(){x(),d=COULL.nAdDuration},z=function(a){switch(a){case 25:document.dispatchEvent(AdVideoFirstQuartile),COULL.tracking.sendUrlsByType("firstQuartile");break;case 50:document.dispatchEvent(AdVideoMidpoint),COULL.tracking.sendUrlsByType("midpoint");break;case 75:document.dispatchEvent(AdVideoThirdQuartile),COULL.tracking.sendUrlsByType("thirdQuartile");break;case 100:document.dispatchEvent(AdVideoComplete),COULL.tracking.sendUrlsByType("complete")}},A=function(a){a&&(l="FULLSCREEN"===a.toUpperCase())},B=function(a,b){window.addEventListener(b,function(b){a(b)})},C=function(a,b){window.removeEventListener(b,a)},D=function(){},E=function(b,c,d){A(d),setTimeout(function(){b?b:a.getBoundingClientRect().width,c?c:a.getBoundingClientRect().height},100),document.dispatchEvent(AdSizeChange)},F=function(){return!j&&(w(),b.load(),b.play(),document.dispatchEvent(AdStarted),document.dispatchEvent(AdVideoStart),o(),void(h=!0))},G=function(){k&&r("stopAd")},H=function(){r("pauseAd")},I=function(){h||(b.play(),document.dispatchEvent(AdPlaying),h=!0)},J=function(){return"2.0"},K=function(){return!1},L=function(){return j},M=function(){return a.getBoundingClientRect().width},N=function(){return a.getBoundingClientRect().height},O=function(){},P=function(){return!1},Q=function(){return Math.round(d)},R=function(){return null},S=function(){return null},T=function(){return null},U=function(){},V=function(){},W=function(){return COULL.nAdDuration},X=function(){},Y=function(){var b="coull_progress-"+a.id,d=0,g=2.5;c=document.createElement("div"),c.id=b,c.style.height=g+"%",c.style.width=d+"%",c.style.position="absolute",c.style.bottom="0px",c.style.left="0px",c.style.backgroundColor="#FC0",setInterval(function(){document.dispatchEvent(AdRemainingTimeChange),d=d>=100?0:e,c.style.width=d+"%"},f),a.parentNode.appendChild(c)},Z=function(){var a=["AdLoaded","AdStarted","AdStopped","AdSkipped","AdLinearChange","AdSizeChange","AdExpandedChange","AdSkippableStateChange","AdRemainingTimeChange","AdDurationChange","AdVolumeChange","AdImpression","AdVideoStart","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete","AdClickThru","AdInteraction","AdUserAcceptInvitation","AdUserMinimize","AdUserClose","AdPaused","AdPlaying","AdLog","AdError"];COULL.utils.createCustomEvents(a)};return{init:m,loadMedia:n,removeAdAssets:s,oVpaidProxy:{subscribe:B,unsubscribe:C,handshakeVersion:J,initAd:D,resizeAd:E,startAd:F,stopAd:G,skipAd:K,pauseAd:H,resumeAd:I,expandAd:O,collapseAd:X,getAdLinear:L,getAdWidth:M,getAdHeight:N,getAdExpanded:V,getAdSkippableState:P,getAdRemainingTime:Q,getAdDuration:W,getAdVolume:R,getAdCompanions:S,getAdIcons:T,setAdVolume:U}}}(),COULL.vpaidLoader=function(){var a,b=function(b,c,d){var e=document.createElement("iframe");e.src="about:blank",e.style.overflow="hidden",e.style.frameBorder="0",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e.name="adManIframe",e.style.position="absolute",e.onload=function(){var f=e.contentDocument.body,g=e.contentDocument.createElement("script");g.src=b,f.appendChild(g),g.onload=function(){if(!e.contentWindow.getVPAIDAd)return void d(320);a=e.contentWindow.getVPAIDAd(),COULL.bViewabilityEnabled&&(COULL.jammaster.aSubscribedEvents.push({fn:COULL.viewability.onAdStarted,eventName:"AdStarted"}),COULL.jammaster.aSubscribedEvents.push({fn:COULL.viewability.onAdPaused,eventName:"AdPaused"}),COULL.jammaster.aSubscribedEvents.push({fn:COULL.viewability.onAdPlaying,eventName:"AdPlaying"}),COULL.jammaster.aSubscribedEvents.push({fn:COULL.viewability.onAdStopped,eventName:"AdStopped"})),COULL.jammaster.aSubscribedEvents.push({fn:function(){COULL.preroll.onAdImpression()},eventName:"AdImpression"}),COULL.jammaster.aSubscribedEvents.push({fn:function(){COULL.preroll.onAdError(720)},eventName:"AdError"}),COULL.jammaster.aSubscribedEvents.push({fn:function(){COULL.preroll.onAdStopped()},eventName:"AdStopped"});var b={AdParameters:c};COULL.oInitAdParams.creativeData=b;for(var f=0;f<COULL.jammaster.aSubscribedEvents.length;f++){var g=COULL.jammaster.aSubscribedEvents[f].fn,h=COULL.jammaster.aSubscribedEvents[f].eventName;a.subscribe(g,h)}a.initAd?a.initAd(COULL.oInitAdParams.width,COULL.oInitAdParams.height,COULL.oInitAdParams.viewMode,COULL.oInitAdParams.desiredBitrate,COULL.oInitAdParams.creativeData,COULL.oInitAdParams.environmentVars,COULL.oInitAdParams.adType):d(700)}},document.body.appendChild(e)},c=function(a,b){COULL.jammaster.aSubscribedEvents.push({fn:a,eventName:b})},d=function(a,b){for(var c=0;c<COULL.jammaster.aSubscribedEvents.length;c++)"undefined"!=typeof COULL.jammaster.aSubscribedEvents[c][b]&&delete COULL.jammaster.aSubscribedEvents[c][b]},e=function(){return"2.0"},f=function(a,b,c,d,e,f,g){},g=function(b,c,d){return a.resizeAd(b,c,d)},h=function(){return a.startAd()},i=function(){return a.stopAd()},j=function(){return a.skipAd()},k=function(){return a.pauseAd()},l=function(){return a.resumeAd()},m=function(){return a.expandAd()},n=function(){return a.collapseAd()},o=function(){return a.getAdLinear()},p=function(){return a.getAdWidth()},q=function(){return a.getAdHeight()},r=function(){return a.getAdExpanded()},s=function(){return a.getAdSkippableState()},t=function(){return a.getAdRemainingTime()},u=function(){return a.getAdDuration()},v=function(){return a.getAdVolume()},w=function(){return a.getAdCompanions()},x=function(){return a.getAdIcons()},y=function(){return a.setAdVolume()};return{loadAdManager:b,oVpaidProxy:{subscribe:c,unsubscribe:d,handshakeVersion:e,initAd:f,resizeAd:g,startAd:h,stopAd:i,skipAd:j,pauseAd:k,resumeAd:l,expandAd:m,collapseAd:n,getAdLinear:o,getAdWidth:p,getAdHeight:q,getAdExpanded:r,getAdSkippableState:s,getAdRemainingTime:t,getAdDuration:u,getAdVolume:v,getAdCompanions:w,getAdIcons:x,setAdVolume:y}}}(),COULL.jammaster=function(){var a={handshakeVersion:function(){return"2.0"},startAd:function(){return COULL.oVpaidProxy.startAd()},stopAd:function(){return COULL.oVpaidProxy.stopAd()},pauseAd:function(){return COULL.oVpaidProxy.pauseAd()},resumeAd:function(){return COULL.oVpaidProxy.resumeAd()},subscribe:function(a,b){COULL.jammaster.aSubscribedEvents.push({fn:a,eventName:b})},unsubscribe:function(a,b){for(var c=0;c<COULL.jammaster.aSubscribedEvents.length;c++)"undefined"!=typeof COULL.jammaster.aSubscribedEvents[c][b]&&delete COULL.jammaster.aSubscribedEvents[c][b]},resizeAd:function(){return COULL.oVpaidProxy.resizeAd()},initAd:function(a,b,c,d,e,f,g){COULL.oInitAdParams={width:a,height:b,viewMode:c,desiredBitrate:d,creativeData:e,environmentVars:f,adType:g},COULL.preroll.init(null,COULL.oInitAdParams)},skipAd:function(){return COULL.oVpaidProxy.skipAd()},collapseAd:function(){return COULL.oVpaidProxy.collapseAd()},expandAd:function(){return COULL.oVpaidProxy.expandAd()},getAdExpanded:function(){return COULL.oVpaidProxy.getAdExpanded()},getAdLinear:function(){return COULL.oVpaidProxy.getAdLinear()},getAdDuration:function(){return COULL.oVpaidProxy.getAdDuration()},getAdRemainingTime:function(){return COULL.oVpaidProxy.getAdRemainingTime()},getAdSkippableState:function(){return COULL.oVpaidProxy.getAdSkippableState()},getAdVolume:function(){return COULL.oVpaidProxy.getAdVolume()},getAdWidth:function(){return COULL.oVpaidProxy.getAdWidth()},getAdHeight:function(){return COULL.oVpaidProxy.getAdHeight()},getAdCompanions:function(){return COULL.oVpaidProxy.getAdCompanions()},getAdIcons:function(){return COULL.oVpaidProxy.getAdIcons()},setAdVolume:function(){return COULL.oVpaidProxy.setAdVolume()}},b=function(){COULL.jammaster.aSubscribedEvents=[]};return b(),a},window.getVPAIDAd=function(){return new COULL.jammaster};}(COULL = window.COULL || {}));
